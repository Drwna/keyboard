{"version":3,"sources":["main.js"],"names":["$","document","querySelector","s","$$","querySelectorAll","keyboard","$input","text","init","bind","name","$keyboard","forEach","$page","style","display","self","onclick","e","classList","add","stopPropagation","addEventListener","remove","$key","onmousedown","onmouseup","type","dataset","innerText","setPage","substring","length","createElement","innerHTML","body","appendChild"],"mappings":"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","file":"main.63e9d780.map","sourceRoot":"..\\src","sourcesContent":["/*\r\nconst $ = s => document.querySelector(s)\r\nconst $$ = s => document.querySelectorAll(s)\r\n\r\n$('.input').onclick = function (e) {\r\n    if (!this.classList.contains('focus')) {\r\n        this.classList.add('focus')\r\n        $('.keyboard').classList.add('show')\r\n        e.stopPropagation()\r\n    }\r\n}\r\n\r\ndocument.onclick = function () {\r\n    $('.keyboard').classList.remove('show')\r\n    $('.input').classList.remove('focus')\r\n}\r\n\r\n$('.keyboard').onclick = function (e) {\r\n    e.stopPropagation()\r\n}\r\nlet text = ''\r\n\r\n$$('.keyboard .row>span').forEach($key => {\r\n    $key.onmousedown = function () {\r\n        this.classList.add('active')\r\n    }\r\n    $key.onmouseup = function () {\r\n        this.classList.remove('active')\r\n    }\r\n})\r\n$$('.keyboard .row>span').forEach($key => {\r\n    $key.onclick = function (e) {\r\n        let type = $key.dataset.type\r\n        switch (type) {\r\n            case 'char':\r\n                text += $key.innerText\r\n                $('.input').innerText = text\r\n                break;\r\n            case 'uppercase':\r\n                setPage('uppercase')\r\n                break;\r\n            case 'lowercase':\r\n                setPage('lowercase')\r\n                break;\r\n            case 'symbol':\r\n                setPage('symbol')\r\n                break;\r\n            case 'number':\r\n                setPage('number')\r\n                break;\r\n            case 'backspace':\r\n                text = text.substring(0, text.length - 1)\r\n                $('.input').innerText = text\r\n                break;\r\n            case 'space':\r\n                text += ''\r\n                $('.input').innerText = text\r\n                break;\r\n            case 'return':\r\n                text += '\\n'\r\n                $('.input').innerText = text\r\n                break;\r\n        }\r\n    }\r\n})\r\n\r\nfunction setPage(name) {\r\n    $$('.keyboard .page').forEach($page => $page.style.display = 'none')\r\n    $('.keyboard .page-' + name).style.display = 'block'\r\n}\r\n*/\r\nconst $ = s => document.querySelector(s)\r\nconst $$ = s => document.querySelectorAll(s)\r\n\r\nclass keyboard {\r\n    constructor($input) {\r\n        this.$input = $input\r\n        this.text = ''\r\n        this.init()\r\n        this.bind()\r\n    }\r\n\r\n    setPage(name) {\r\n        this.$keyboard.querySelectorAll('.page').forEach($page => $page.style.display = 'none')\r\n        this.$keyboard.querySelector('.page-' + name).style.display = 'block'\r\n    }\r\n\r\n    bind() {\r\n        let self = this\r\n        this.$input.onclick = function (e) {\r\n            this.classList.add('focus')\r\n            self.$keyboard.classList.add('show')\r\n            e.stopPropagation()\r\n        }\r\n        // onclick 会覆盖上一次绑定\r\n        document.addEventListener('click', function () {\r\n            self.$input.classList.remove('focus')\r\n            self.$keyboard.classList.remove('show')\r\n        })\r\n\r\n        this.$keyboard.onclick = function (e) {\r\n            e.stopPropagation()\r\n        }\r\n\r\n        // this.keyboard.querySelectorAll('.row>span').forEach($key => {\r\n        //     $key.onmousedown = function () {\r\n        //         this.classList.add('active')\r\n        //     }\r\n        //     $key.onmouseup = function () {\r\n        //         this.classList.remove('active')\r\n        //     }\r\n        // })\r\n\r\n        this.$keyboard.querySelectorAll('.row>span').forEach($key => {\r\n            $key.onclick = function (e) {\r\n                $key.onmousedown = function () {\r\n                    this.classList.add('active')\r\n                }\r\n                $key.onmouseup = function () {\r\n                    this.classList.remove('active')\r\n                }\r\n                let type = $key.dataset.type\r\n                switch (type) {\r\n                    case 'char':\r\n                        self.text += $key.innerText\r\n                        self.$input.innerText = self.text\r\n                        break;\r\n                    case 'uppercase':\r\n                        self.setPage('uppercase')\r\n                        break;\r\n                    case 'lowercase':\r\n                        self.setPage('lowercase')\r\n                        break;\r\n                    case 'symbol':\r\n                        self.setPage('symbol')\r\n                        break;\r\n                    case 'number':\r\n                        self.setPage('number')\r\n                        break;\r\n                    case 'backspace':\r\n                        self.text = self.text.substring(0, self.text.length - 1)\r\n                        self.$input.innerText = self.text\r\n                        break;\r\n                    case 'space':\r\n                        self.text += ' '\r\n                        self.$input.innerText = self.text\r\n                        break;\r\n                    case 'return':\r\n                        self.text += '\\n'\r\n                        self.$input.innerText = self.text\r\n                        break;\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    init() {\r\n        let $keyboard = document.createElement('div')\r\n        $keyboard.classList.add('keyboard')\r\n        $keyboard.innerHTML = `\r\n            <div class=\"page page-lowercase\">\r\n                <div class=\"row\">\r\n                    <span data-type=\"char\" class=\"col-2\">q</span>\r\n                    <span data-type=\"char\" class=\"col-2\">w</span>\r\n                    <span data-type=\"char\" class=\"col-2\">e</span>\r\n                    <span data-type=\"char\" class=\"col-2\">r</span>\r\n                    <span data-type=\"char\" class=\"col-2\">t</span>\r\n                    <span data-type=\"char\" class=\"col-2\">y</span>\r\n                    <span data-type=\"char\" class=\"col-2\">u</span>\r\n                    <span data-type=\"char\" class=\"col-2\">i</span>\r\n                    <span data-type=\"char\" class=\"col-2\">o</span>\r\n                    <span data-type=\"char\" class=\"col-2\">p</span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"char\" class=\"col-2 offset-1\">a</span>\r\n                    <span data-type=\"char\" class=\"col-2\">s</span>\r\n                    <span data-type=\"char\" class=\"col-2\">d</span>\r\n                    <span data-type=\"char\" class=\"col-2\">f</span>\r\n                    <span data-type=\"char\" class=\"col-2\">g</span>\r\n                    <span data-type=\"char\" class=\"col-2\">h</span>\r\n                    <span data-type=\"char\" class=\"col-2\">j</span>\r\n                    <span data-type=\"char\" class=\"col-2\">k</span>\r\n                    <span data-type=\"char\" class=\"col-2\">l</span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"uppercase\" class=\"col-3\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-caps-lock-16\"></use>\r\n                        </svg>\r\n                    </span>\r\n                    <span data-type=\"char\" class=\"col-2\">z</span>\r\n                    <span data-type=\"char\" class=\"col-2\">x</span>\r\n                    <span data-type=\"char\" class=\"col-2\">c</span>\r\n                    <span data-type=\"char\" class=\"col-2\">v</span>\r\n                    <span data-type=\"char\" class=\"col-2\">b</span>\r\n                    <span data-type=\"char\" class=\"col-2\">n</span>\r\n                    <span data-type=\"char\" class=\"col-2\">m</span>\r\n                    <span data-type=\"backspace\" class=\"col-3 \">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-backspace\"></use>\r\n                        </svg>\r\n                    </span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"number\" class=\"col-4\">123</span>\r\n                    <span data-type=\"space\" class=\"col-12\">space</span>\r\n                    <span data-type=\"return\" class=\"col-4\">return</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"page page-number\">\r\n                <div class=\"row\">\r\n                    <span data-type=\"char\" class=\"col-2\">1</span>\r\n                    <span data-type=\"char\" class=\"col-2\">2</span>\r\n                    <span data-type=\"char\" class=\"col-2\">3</span>\r\n                    <span data-type=\"char\" class=\"col-2\">4</span>\r\n                    <span data-type=\"char\" class=\"col-2\">5</span>\r\n                    <span data-type=\"char\" class=\"col-2\">6</span>\r\n                    <span data-type=\"char\" class=\"col-2\">7</span>\r\n                    <span data-type=\"char\" class=\"col-2\">8</span>\r\n                    <span data-type=\"char\" class=\"col-2\">9</span>\r\n                    <span data-type=\"char\" class=\"col-2\">0</span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"char\" class=\"col-2 offset-1\">-</span>\r\n                    <span data-type=\"char\" class=\"col-2\">/</span>\r\n                    <span data-type=\"char\" class=\"col-2\">:</span>\r\n                    <span data-type=\"char\" class=\"col-2\">;</span>\r\n                    <span data-type=\"char\" class=\"col-2\">(</span>\r\n                    <span data-type=\"char\" class=\"col-2\">)</span>\r\n                    <span data-type=\"char\" class=\"col-2\">$</span>\r\n                    <span data-type=\"char\" class=\"col-2\">&</span>\r\n                    <span data-type=\"char\" class=\"col-2\">@</span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"symbol\" class=\"col-3\">#+=</span>\r\n                    <span data-type=\"char\" class=\"col-2\">.</span>\r\n                    <span data-type=\"char\" class=\"col-2\">,</span>\r\n                    <span data-type=\"char\" class=\"col-2\">?</span>\r\n                    <span data-type=\"char\" class=\"col-2\">!</span>\r\n                    <span data-type=\"char\" class=\"col-2\">'</span>\r\n                    <span data-type=\"char\" class=\"col-2\">\"</span>\r\n                    <span data-type=\"char\" class=\"col-2\">\\`</span>\r\n                    <span data-type=\"backspace\" class=\"col-3\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-backspace\"></use>\r\n                        </svg>\r\n                    </span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"lowercase\" class=\"col-4\">ABC</span>\r\n                    <span data-type=\"space\" class=\"col-12\">space</span>\r\n                    <span data-type=\"return\" class=\"col-4\">return</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"page page-symbol\">\r\n                <div class=\"row\">\r\n                    <span data-type=\"char\" class=\"col-2\">[</span>\r\n                    <span data-type=\"char\" class=\"col-2\">]</span>\r\n                    <span data-type=\"char\" class=\"col-2\">{</span>\r\n                    <span data-type=\"char\" class=\"col-2\">}</span>\r\n                    <span data-type=\"char\" class=\"col-2\">#</span>\r\n                    <span data-type=\"char\" class=\"col-2\">%</span>\r\n                    <span data-type=\"char\" class=\"col-2\">^</span>\r\n                    <span data-type=\"char\" class=\"col-2\">*</span>\r\n                    <span data-type=\"char\" class=\"col-2\">+</span>\r\n                    <span data-type=\"char\" class=\"col-2\">=</span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"char\" class=\"col-2 offset-1\">_</span>\r\n                    <span data-type=\"char\" class=\"col-2\">\\</span>\r\n                    <span data-type=\"char\" class=\"col-2\">|</span>\r\n                    <span data-type=\"char\" class=\"col-2\">~</span>\r\n                    <span data-type=\"char\" class=\"col-2\">\r\n                        <</span> <span data-type=\"char\" class=\"col-2\">>\r\n                    </span>\r\n                    <span data-type=\"char\" class=\"col-2\">¥</span>\r\n                    <span data-type=\"char\" class=\"col-2\">€</span>\r\n                    <span data-type=\"char\" class=\"col-2\">￡</span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"number\" class=\"col-3\">123</span>\r\n                    <span data-type=\"char\" class=\"col-2\">.</span>\r\n                    <span data-type=\"char\" class=\"col-2\">,</span>\r\n                    <span data-type=\"char\" class=\"col-2\">?</span>\r\n                    <span data-type=\"char\" class=\"col-2\">!</span>\r\n                    <span data-type=\"char\" class=\"col-2\">'</span>\r\n                    <span data-type=\"char\" class=\"col-2\">\"</span>\r\n                    <span data-type=\"char\" class=\"col-2\">\\`</span>\r\n                    <span data-type=\"backspace\" class=\"col-3\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-backspace\"></use>\r\n                        </svg>\r\n                    </span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"lowercase\" class=\"col-4\">ABC</span>\r\n                    <span data-type=\"space\" class=\"col-12\">space</span>\r\n                    <span data-type=\"return\" class=\"col-4\">return</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"page page-uppercase\">\r\n                <div class=\"row\">\r\n                    <span data-type=\"char\" class=\"col-2\">Q</span>\r\n                    <span data-type=\"char\" class=\"col-2\">W</span>\r\n                    <span data-type=\"char\" class=\"col-2\">E</span>\r\n                    <span data-type=\"char\" class=\"col-2\">R</span>\r\n                    <span data-type=\"char\" class=\"col-2\">T</span>\r\n                    <span data-type=\"char\" class=\"col-2\">Y</span>\r\n                    <span data-type=\"char\" class=\"col-2\">U</span>\r\n                    <span data-type=\"char\" class=\"col-2\">I</span>\r\n                    <span data-type=\"char\" class=\"col-2\">O</span>\r\n                    <span data-type=\"char\" class=\"col-2\">P</span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"char\" class=\"col-2 offset-1\">A</span>\r\n                    <span data-type=\"char\" class=\"col-2\">S</span>\r\n                    <span data-type=\"char\" class=\"col-2\">D</span>\r\n                    <span data-type=\"char\" class=\"col-2\">F</span>\r\n                    <span data-type=\"char\" class=\"col-2\">G</span>\r\n                    <span data-type=\"char\" class=\"col-2\">H</span>\r\n                    <span data-type=\"char\" class=\"col-2\">J</span>\r\n                    <span data-type=\"char\" class=\"col-2\">K</span>\r\n                    <span data-type=\"char\" class=\"col-2\">L</span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"lowercase\" class=\"col-3\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-caps-lock-16\"></use>\r\n                        </svg>\r\n                    </span>\r\n                    <span data-type=\"char\" class=\"col-2\">Z</span>\r\n                    <span data-type=\"char\" class=\"col-2\">X</span>\r\n                    <span data-type=\"char\" class=\"col-2\">C</span>\r\n                    <span data-type=\"char\" class=\"col-2\">V</span>\r\n                    <span data-type=\"char\" class=\"col-2\">B</span>\r\n                    <span data-type=\"char\" class=\"col-2\">N</span>\r\n                    <span data-type=\"char\" class=\"col-2\">M</span>\r\n                    <span data-type=\"backspace\" class=\"col-3\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-backspace\"></use>\r\n                        </svg></span>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <span data-type=\"number\" class=\"col-4\">123</span>\r\n                    <span data-type=\"space\" class=\"col-12\">space</span>\r\n                    <span data-type=\"return\" class=\"col-4\">return</span>\r\n                </div>\r\n            </div>\r\n        `\r\n        document.body.appendChild($keyboard)\r\n        this.$keyboard = $keyboard\r\n    }\r\n}\r\n\r\n$$('.input').forEach($input => {\r\n    new keyboard($input)\r\n})"]}